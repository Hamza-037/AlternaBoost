import React from "react"; import { renderToBuffer } from "@react-pdf/renderer"; import { PremiumCVTemplate } from "./PremiumCVTemplate"; import { ModernCVTemplate } from "./ModernCVTemplate"; import { CreativeCVTemplate } from "./CreativeCVTemplate"; import { MinimalCVTemplate } from "./MinimalCVTemplate"; import type { GeneratedCV, CVStyle, CVSection } from "@/types/cv";  export type CVTemplateType = "premium" | "modern" | "creative" | "minimal";  /**  * G├®n├¿re un CV au format PDF ├á partir des donn├®es structur├®es  *   * @param data - Donn├®es du CV g├®n├®r├®es (avec am├®liorations IA)  * @param template - Type de template ├á utiliser  * @param profileImageUrl - URL de la photo de profil (optionnel)  * @param style - Style personnalis├® du CV (optionnel)  * @param customSections - Sections personnalis├®es (optionnel)  * @returns Buffer du PDF g├®n├®r├®  */ export async function generateCVPDF(   data: GeneratedCV,   template?: CVTemplateType,   profileImageUrl?: string,   style?: CVStyle,   customSections?: CVSection[] ): Promise<Buffer> {   // Utiliser le template depuis le style si disponible, sinon utiliser le param├¿tre, sinon "modern"   const selectedTemplate = style?.template || template || "modern";      let pdfBuffer: Buffer;    switch (selectedTemplate) {     case "modern":       pdfBuffer = await renderToBuffer(         <ModernCVTemplate            data={data}            profileImageUrl={profileImageUrl}          />       );       break;            case "premium":       pdfBuffer = await renderToBuffer(         <PremiumCVTemplate data={data} />       );       break;            case "creative":       pdfBuffer = await renderToBuffer(         <CreativeCVTemplate            data={data}           style={style}           profileImageUrl={profileImageUrl}           customSections={customSections}         />       );       break;            case "minimal":       pdfBuffer = await renderToBuffer(         <MinimalCVTemplate            data={data}           style={style}           customSections={customSections}         />       );       break;            default:       pdfBuffer = await renderToBuffer(         <ModernCVTemplate data={data} profileImageUrl={profileImageUrl} />       );   }    return pdfBuffer; } 